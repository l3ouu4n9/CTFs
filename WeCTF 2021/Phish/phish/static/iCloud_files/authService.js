
/**
* **ACKNOWLEDGEMENTS:**
* https://appleid.cdn-apple.com/appleauth/static/jsapi/acknowledgements.txt
* 
*/

window.idmsapis=function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&'object'==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,'default',{enumerable:!0,value:e}),2&n&&'string'!=typeof e)for(var o in e)t.d(i,o,function(t){return e[t]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=59)}([function(e){var t=Array.isArray;e.exports=t},function(e,t,n){var i=n(9),o=i(Object,'create');e.exports=o},function(e,t,n){var i=n(41);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(47);e.exports=function(e,t){var n=e.__data__;return i(t)?n['string'==typeof t?'string':'hash']:n.map}},function(e,t,n){var i=n(5),o=n(8);e.exports=function(e){return'symbol'==typeof e||o(e)&&i(e)=='[object Symbol]'}},function(e,t,n){function i(e){return null==e?void 0===e?d:s:c&&c in Object(e)?a(e):r(e)}var o=n(6),a=n(19),r=n(20),s='[object Null]',d='[object Undefined]',c=o?o.toStringTag:void 0;e.exports=i},function(e,t,n){var i=n(7),o=i.Symbol;e.exports=o},function(e,t,n){var i=n(17),o='object'==typeof self&&self&&self.Object===Object&&self,a=i||o||Function('return this')();e.exports=a},function(e){e.exports=function(e){return null!=e&&'object'==typeof e}},function(e,t,n){var i=n(28),o=n(33);e.exports=function(e,t){var n=o(e,t);return i(n)?n:void 0}},function(e){e.exports=function(e){var t=typeof e;return null!=e&&('object'==t||'function'==t)}},function(e,t,n){var i,o;(function(a,r){e.exports?e.exports=r():(i=r,o='function'==typeof i?i.call(t,n,t,e):i,!(o!==void 0&&(e.exports=o)))})(this,function(){'use strict';function e(e,t){var i,n=document.createElement(e||'div');for(i in t)n[i]=t[i];return n}function t(e){for(var t=1,i=arguments.length;t<i;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var o=['opacity',t,~~(100*e),n,i].join('-'),a=.01+100*(n/i),r=l(1-(1-e)/t*(100-a),e),s=c.substring(0,c.indexOf('Animation')).toLowerCase();return f[o]||(u.insertRule('@'+(s&&'-'+s+'-'||'')+'keyframes '+o+'{0%{opacity:'+r+'}'+a+'%{opacity:'+e+'}'+(a+.01)+'%{opacity:1}'+(a+t)%100+'%{opacity:'+e+'}100%{opacity:'+r+'}}',u.cssRules.length),f[o]=1),o}function i(e,t){var n,o,i=e.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==i[t])return t;for(o=0;o<p.length;o++)if(n=p[o]+t,void 0!==i[n])return n}function a(e,t){for(var o in t)e.style[i(e,o)||o]=t[o];return e}function r(e){for(var t,o=1;o<arguments.length;o++)for(var i in t=arguments[o],t)void 0===e[i]&&(e[i]=t[i]);return e}function s(e,t){return'string'==typeof e?e:e[t%e.length]}function d(e){this.opts=r(e||{},d.defaults,m)}function o(){function n(t,n){return e('<'+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}u.addRule('.spin-vml','behavior:url(#default#VML)'),d.prototype.lines=function(e,d){function o(){return a(n('group',{coordsize:i+' '+i,coordorigin:-l+' '+-l}),{width:i,height:i})}function c(e,i,c){t(f,t(a(o(),{rotation:360/d.lines*e+'deg',left:~~i}),t(a(n('roundrect',{arcsize:d.corners}),{width:l,height:d.scale*d.width,left:d.scale*d.radius,top:-d.scale*d.width>>1,filter:c}),n('fill',{color:s(d.color,e),opacity:d.opacity}),n('stroke',{opacity:0}))))}var u,l=d.scale*(d.length+d.width),i=2*d.scale*l,p=2*(-(d.width+d.length)*d.scale)+'px',f=a(o(),{position:'absolute',top:p,left:p});if(d.shadow)for(u=1;u<=d.lines;u++)c(u,-2,'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)');for(u=1;u<=d.lines;u++)c(u);return t(e,f)},d.prototype.opacity=function(e,t,n,i){var o=e.firstChild;i=i.shadow&&i.lines||0,o&&t+i<o.childNodes.length&&(o=o.childNodes[t+i],o=o&&o.firstChild,o=o&&o.firstChild,o&&(o.opacity=n))}}var c,u,l=Math.max,p=['webkit','Moz','ms','O'],f={},m={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:'#000',opacity:1/4,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:'spinner',top:'50%',left:'50%',shadow:!1,hwaccel:!1,position:'absolute'};if(d.defaults={},r(d.prototype,{spin:function(t){this.stop();var n=this,r=n.opts,o=n.el=e(null,{className:r.className});if(a(o,{position:r.position,width:0,zIndex:r.zIndex,left:r.left,top:r.top}),t&&t.insertBefore(o,t.firstChild||null),o.setAttribute('role','progressbar'),n.lines(o,n.opts),!c){var s,d=0,i=(r.lines-1)*(1-r.direction)/2,u=r.fps,p=u/r.speed,f=(1-r.opacity)/(p*r.trail/100),m=p/r.lines;(function e(){d++;for(var t=0;t<r.lines;t++)s=l(1-(d+(r.lines-t)*m)%p*f,r.opacity),n.opacity(o,t*r.direction+i,s,r);n.timeout=n.el&&setTimeout(e,~~(1e3/u))})()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(r,d){function o(t,n){return a(e(),{position:'absolute',width:d.scale*(d.length+d.width)+'px',height:d.scale*d.width+'px',background:t,boxShadow:n,transformOrigin:'left',transform:'rotate('+~~(360/d.lines*l+d.rotate)+'deg) translate('+d.scale*d.radius+'px,0)',borderRadius:(d.corners*d.scale*d.width>>1)+'px'})}for(var u,l=0,i=(d.lines-1)*(1-d.direction)/2;l<d.lines;l++)u=a(e(),{position:'absolute',top:1+~(d.scale*d.width/2)+'px',transform:d.hwaccel?'translate3d(0,0,0)':'',opacity:d.opacity,animation:c&&n(d.opacity,d.trail,i+l*d.direction,d.lines)+' '+1/d.speed+'s linear infinite'}),d.shadow&&t(u,a(o('#000','0 0 4px #000'),{top:'2px'})),t(r,t(u,o(s(d.color,l),'0 0 1px rgba(0,0,0,.1)')));return r},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),'undefined'!=typeof document){u=function(){var n=e('style',{type:'text/css'});return t(document.getElementsByTagName('head')[0],n),n.sheet||n.styleSheet}();var g=a(e('group'),{behavior:'url(#default#VML)'});!i(g,'transform')&&g.adj?o():c=i(g,'animation')}return d})},function(e,t,n){var i=n(13),o=n(14);e.exports=function(e,t){return null!=e&&o(e,t,i)}},function(e){var t=Object.prototype,n=t.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var i=n(15),o=n(54),a=n(0),r=n(56),s=n(57),d=n(58);e.exports=function(e,t,n){t=i(t,e);for(var c,u=-1,l=t.length,p=!1;++u<l&&(c=d(t[u]),!!(p=null!=e&&n(e,c)));)e=e[c];return p||++u!=l?p:(l=null==e?0:e.length,!!l&&s(l)&&r(c,l)&&(a(e)||o(e)))}},function(e,t,n){var i=n(0),o=n(16),a=n(21),r=n(51);e.exports=function(e,t){return i(e)?e:o(e,t)?[e]:a(r(e))}},function(e,t,n){function i(e,t){if(o(e))return!1;var n=typeof e;return!!('number'==n||'symbol'==n||'boolean'==n||null==e||a(e))||s.test(e)||!r.test(e)||null!=t&&e in Object(t)}var o=n(0),a=n(4),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=i},function(e,t,n){(function(t){var n='object'==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(18))},function(e){var t=function(){return this}();try{t=t||new Function('return this')()}catch(n){'object'==typeof window&&(t=window)}e.exports=t},function(e,t,n){var i=n(6),o=Object.prototype,a=o.hasOwnProperty,r=o.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0}catch(t){}var i=r.call(e);return t?e[s]=n:delete e[s],i}},function(e){var t=Object.prototype,n=t.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i=n(22),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,r=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(''),e.replace(o,function(e,n,i,o){t.push(i?o.replace(a,'$1'):n||e)}),t});e.exports=r},function(e,t,n){var i=n(23);e.exports=function(e){var t=i(e,function(e){return n.size===500&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){function i(e,t){if('function'!=typeof e||null!=t&&'function'!=typeof t)throw new TypeError(a);var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var r=e.apply(this,i);return n.cache=a.set(o,r)||a,r};return n.cache=new(i.Cache||o),n}var o=n(24),a='Expected a function';i.Cache=o,e.exports=i},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var o=n(25),a=n(46),r=n(48),s=n(49),d=n(50);i.prototype.clear=o,i.prototype['delete']=a,i.prototype.get=r,i.prototype.has=s,i.prototype.set=d,e.exports=i},function(e,t,n){var i=n(26),o=n(38),a=n(45);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var o=n(27),a=n(34),r=n(35),s=n(36),d=n(37);i.prototype.clear=o,i.prototype['delete']=a,i.prototype.get=r,i.prototype.has=s,i.prototype.set=d,e.exports=i},function(e,t,n){var i=n(1);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t,n){var i=n(29),o=n(30),a=n(10),r=n(32),s=/[\\^$.*+?()[\]{}|]/g,d=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,p=u.hasOwnProperty,f=RegExp('^'+l.call(p).replace(s,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');e.exports=function(e){if(!a(e)||o(e))return!1;var t=i(e)?f:d;return t.test(r(e))}},function(e,t,n){var i=n(5),o=n(10);e.exports=function(e){if(!o(e))return!1;var t=i(e);return t=='[object Function]'||t=='[object GeneratorFunction]'||t=='[object AsyncFunction]'||t=='[object Proxy]'}},function(e,t,n){function i(e){return!!a&&a in e}var o=n(31),a=function(){var e=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||'');return e?'Symbol(src)_1.'+e:''}();e.exports=i},function(e,t,n){var i=n(7),o=i['__core-js_shared__'];e.exports=o},function(e){var t=Function.prototype,n=t.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+''}catch(t){}}return''}},function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(1),o=Object.prototype,a=o.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return n==='__lodash_hash_undefined__'?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var i=n(1),o=Object.prototype,a=o.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?t[e]!==void 0:a.call(t,e)}},function(e,t,n){var i=n(1);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?'__lodash_hash_undefined__':t,this}},function(e,t,n){function i(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var o=n(39),a=n(40),r=n(42),s=n(43),d=n(44);i.prototype.clear=o,i.prototype['delete']=a,i.prototype.get=r,i.prototype.has=s,i.prototype.set=d,e.exports=i},function(e){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(2),o=Array.prototype,a=o.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);if(0>n)return!1;var o=t.length-1;return n==o?t.pop():a.call(t,n,1),--this.size,!0}},function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},function(e,t,n){var i=n(2);e.exports=function(e){var t=this.__data__,n=i(t,e);return 0>n?void 0:t[n][1]}},function(e,t,n){var i=n(2);e.exports=function(e){return-1<i(this.__data__,e)}},function(e,t,n){var i=n(2);e.exports=function(e,t){var n=this.__data__,o=i(n,e);return 0>o?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var i=n(9),o=n(7),a=i(o,'Map');e.exports=a},function(e,t,n){var i=n(3);e.exports=function(e){var t=i(this,e)['delete'](e);return this.size-=t?1:0,t}},function(e){e.exports=function(e){var t=typeof e;return'string'==t||'number'==t||'symbol'==t||'boolean'==t?'__proto__'!==e:null===e}},function(e,t,n){var i=n(3);e.exports=function(e){return i(this,e).get(e)}},function(e,t,n){var i=n(3);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(3);e.exports=function(e,t){var n=i(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var i=n(52);e.exports=function(e){return null==e?'':i(e)}},function(e,t,n){function i(e){if('string'==typeof e)return e;if(r(e))return a(e,i)+'';if(s(e))return u?u.call(e):'';var t=e+'';return'0'==t&&1/e==-d?'-0':t}var o=n(6),a=n(53),r=n(0),s=n(4),d=1/0,c=o?o.prototype:void 0,u=c?c.toString:void 0;e.exports=i},function(e){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var i=n(55),o=n(8),a=Object.prototype,r=a.hasOwnProperty,s=a.propertyIsEnumerable,d=i(function(){return arguments}())?i:function(e){return o(e)&&r.call(e,'callee')&&!s.call(e,'callee')};e.exports=d},function(e,t,n){var i=n(5),o=n(8);e.exports=function(e){return o(e)&&i(e)=='[object Arguments]'}},function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return n=null==n?9007199254740991:n,!!n&&('number'==i||'symbol'!=i&&t.test(e))&&-1<e&&0==e%1&&e<n}},function(e){e.exports=function(e){return'number'==typeof e&&-1<e&&0==e%1&&e<=9007199254740991}},function(e,t,n){var i=n(4);e.exports=function(e){if('string'==typeof e||i(e))return e;var t=e+'';return'0'==t&&1/e==-(1/0)?'-0':t}},function(e,t,n){'use strict';function i(e){return i='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},i(e)}function o(e){return o='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},o(e)}n.r(t);var a=function(e){var t=[];return Array.isArray(e)?e.forEach(function(e){t.push(e)}):t.push(e),t},r={getOriginFromUrl:function(e){if(!e)throw new TypeError('Invalid url',e);var t=document.implementation.createHTMLDocument(''),n=t.createElement('a');if(n.href=e,t.body.appendChild(n),':'===n.protocol||!/:/.test(n.href))throw new TypeError('Invalid URL');return n.protocol+'//'+n.host},setupACL:function(e){var t=a(e);return{whitelist:t,blacklist:[]}},checkDestinationDomain:function(e,t){if('undefined'!=typeof e&&null!==e&&'undefined'!=typeof e.destinationDomain)for(var n=0;n<e.destinationDomain.length;++n)if(t===e.destinationDomain[n])return!0;return!1},checkACL:function(e,t,n){var o=e.whitelist,a=e.blacklist,r=!1,s=!1;if(n&&{getRegisteredProcedures:!0,receivePingRequest:!0}[n])return!0;for(var d=0;d<o.length;++d)if(t===o[d]){r=!0;break}for(var i=0;i<a.length;++i)if(t===o[d]){s=!0;break}return r&&!s}},s=function(){function e(){return'object'===i(window.crypto)&&'function'==typeof window.crypto.getRandomValues&&'function'==typeof Uint32Array?window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296:Math.random()}function t(){for(var t=Math.floor,n=[],o='89AB',a=0;36>a;a++)n[a]='0123456789ABCDEF'[t(16*e())];return n[14]='4',n[19]=o[t(4*e())],n[8]=n[13]=n[18]=n[23]='-',n.join('')}function n(e){e.trim()&&(N=e+'.')}function o(e,t,n,o){if(!(n instanceof Array)){var a=e.toString(),r=a.substring(a.indexOf('(')+1,a.indexOf(')'));r=''===r?[]:r.split(', ');for(var s={},d=0;d<r.length;d++)s[r[d]]=d;var i=[];for(var c in n)if('undefined'!=typeof s[c])i[s[c]]=n[c];else throw'No such param: '+c;n=i}return'undefined'!=typeof o&&(n=n.concat(o)),e.apply(t,n)}function a(e){return N+JSON.stringify(e)}function s(e){return JSON.parse(e.substring(N.length))}function d(){return{jsonrpc:'2.0'}}function c(e,t,n){var i=d();return i.method=e,i.params=t,'undefined'!=typeof n&&(i.id=n),i}function u(e,t,n){return{code:e,message:t,data:n}}function l(e,t,n){var i=d();return i.id=n,'undefined'==typeof e||null===e?i.result='undefined'===t?null:t:i.error=e,i}function p(e){return!(e.publicProcedureName in L)&&(C[e.publicProcedureName]={publicProcedureName:e.publicProcedureName,procedure:e.procedure,context:e.procedure.context,isAsync:'undefined'!=typeof e.isAsynchronous&&e.isAsynchronous,acl:'undefined'==typeof e.acl?{whitelist:['(.*)'],blacklist:[]}:e.acl},!0)}function f(e){return!(e in L)&&(delete C[e],!0)}function m(e){return C[e]}function g(e){var t=e.event;if(t&&t.data&&'string'==typeof t.data&&0===t.data.indexOf(N)){var n=s(t.data),i={data:t.data,source:t.source,origin:t.origin,shouldCheckACL:!0};if('undefined'!=typeof n.method){v.push({a:new Date().getTime(),b:n.id,c:'rR',h:n.method,e:'f1:mR'});var o=h(n,i);null!==o&&A(i.source,o,i.origin,{callId:n.id,logType:'res',publicProcedureName:n.method,calledAt:'f1:f4'})}else b(n,i)}}function h(e,t){if('2.0'!==e.jsonrpc)return l(u(-32600,'Invalid request.','The recived JSON is not a valid JSON-RPC 2.0 request.'),null,null);var n=e.id,i=m(e.method);if('undefined'==typeof i)return'undefined'==typeof n?null:l(u(-32601,'Method not found.','The requested remote procedure does not exist or is not available.'),null,n);if(!t.shouldCheckACL||r.checkACL(i.acl,t.origin,i.publicProcedureName))try{if(i.isAsync){var a=function(e){A(t.source,l(null,e,n),t.origin)},s=function(e){A(t.source,l(u(-1,'Application error.',e.message),null,n),t.origin)};return o(i.procedure,i.context,e.params,[a,s,t]),null}try{var d=o(i.procedure,i.context,e.params,[t]);return'undefined'==typeof n?null:l(null,d,n)}catch(t){return l(u(-5,'Procedure error.','Procedure thrown exception'),null,n)}}catch(e){return'undefined'==typeof n?null:e.match('^(No such param)')?l(u(-32602,'Invalid params.',e.message),null,n):l(u(-1,'Application error.',e.message),null,n)}else return'undefined'==typeof n?null:l(u(-2,'Application error.','Access denied on server.'),null,n)}function b(e,t){var n=e.id,i=R[n],o={receivePingRequest:'rPR',getRegisteredProcedures:'gRP',ready:'r',config:'i'},a=new Date().getTime(),s={a:a,b:'',c:'rRE',f:'nPN',e:'f2:uRFRpcC'};if('undefined'==typeof i||null===i)return void v.push(s);if(delete R[n],!r.checkDestinationDomain(i,t.origin))return s.e='f2:cAF',void v.push(s);if('undefined'==typeof e.error){var d={destination:i.destination,publicProcedureName:i.publicProcedureName,params:i.params,status:'success',namespace:N,returnValue:e.result};v.push({a:a,b:i.callId,c:'rRS',h:o[i.publicProcedureName]?o[i.publicProcedureName]:i.publicProcedureName,e:'f2:rRS'}),i.onSuccess(d)}else{var c={destination:i.destination,publicProcedureName:i.publicProcedureName,params:i.params,status:'error',namespace:N,message:e.error.message+' '+e.error.data};O(c),v.push({a:a,b:i.callId,c:'rRE',f:c.message,h:o[i.publicProcedureName]?o[i.publicProcedureName]:i.publicProcedureName,e:'f2:rRE'}),i.onError(c)}}function y(e){if(e.retries&&0>e.retries)throw new Exception('number of retries must be 0 or higher');var n=[];if('undefined'==typeof e.destination||null===e.destination||'workerParent'===e.destination)n=[{context:null,type:'workerParent'}];else if('publish'===e.destination)n=T();else if(e.destination instanceof Array)for(var o=0;o<e.destination.length;o++)'workerParent'===e.destination[o]?n.push({context:null,type:'workerParent'}):'undefined'==typeof e.destination[o].frames?n.push({context:e.destination[o],type:'worker'}):n.push({context:e.destination[o],type:'window'});else'undefined'==typeof e.destination.frames?n.push({context:e.destination,type:'worker'}):n.push({context:e.destination,type:'window'});for(var o=0;o<n.length;o++){var i={destination:n[o].context,destinationDomain:'undefined'==typeof e.destinationDomain?['*']:'string'==typeof e.destinationDomain?[e.destinationDomain]:e.destinationDomain,publicProcedureName:e.publicProcedureName,onSuccess:'undefined'==typeof e.onSuccess?function(){}:e.onSuccess,onError:'undefined'==typeof e.onError?function(){}:e.onError,retries:'undefined'==typeof e.retries?5:e.retries,timeout:'undefined'==typeof e.timeout?500:e.timeout,status:'requestNotSent'},a='undefined'==typeof e.onError&&'undefined'==typeof e.onSuccess,r='undefined'==typeof e.params?[]:e.params,s=t();R[s]=i,i.callId=s,i.message=a?c(e.publicProcedureName,r):c(e.publicProcedureName,r,s),w(s)}}function A(e,t,n,i){var o={receivePingRequest:'rPR',getRegisteredProcedures:'gRP',ready:'r',config:'i'};if('undefined'==typeof i?v.push({a:new Date().getTime(),b:'',c:'uPM',h:'',e:'f3:uRpcC'}):v.push({a:new Date().getTime(),b:i.callId,c:i.logType||'req',h:o[i.publicProcedureName]?o[i.publicProcedureName]:i.publicProcedureName,e:i.calledAt}),'undefined'==typeof e||null===e)self.postMessage(a(t));else{if('undefined'!=typeof e.frames)return e.postMessage(a(t),n);e.postMessage(a(t))}}function w(e,t){self.setTimeout(function(){var n=R[e];if('undefined'!=typeof n&&!(t&&'pinging'!==n.status))if(-1>=n.retries)b(l(u(-4,'Application error.','Destination unavailable. '+n.timeout),null,e));else{if('requestSent'===n.status)return;if(0===n.retries||'available'===n.status){n.status='requestSent',n.retries=-1,R[e]=n;for(var o=0;o<n.destinationDomain.length;o++)n.calledAt='wSR:SR',A(n.destination,n.message,n.destinationDomain[o],n),self.setTimeout(function(){w(e)},n.timeout)}else{n.status='pinging',--n.retries;var i={destination:n.destination,publicProcedureName:'receivePingRequest',onSuccess:function(t){!0===t.returnValue&&'undefined'!=typeof R[e]&&'pinging'===R[e].status&&(R[e].status='available',w(e))},params:[n.publicProcedureName],retries:0,destinationDomain:n.destinationDomain};n.destinationDomain&&(i.destinationDomain=n.destinationDomain),y(i),R[e]=n,window.setTimeout(function(){R[e]&&'pinging'===R[e].status&&w(e,!0)},n.timeout/n.retries)}}},10)}function I(e,t,n,i){'addEventListener'in e?e.addEventListener(t,n,i):e.attachEvent('on'+t,n)}function k(e,t,n){return function(i){e({event:i,source:t,destinationType:n})}}function _(){var e=[];if('undefined'!=typeof window){e.push({context:window.top,type:'window'});for(var t,n=0;'undefined'!=typeof e[n];n++){t=e[n];for(var i=0;i<t.context.frames.length;i++)e.push({context:t.context.frames[i],type:'window'})}}else e.push({context:window,type:'workerParent'});return e}function x(){return allWorkers}function T(){var e=_(),t=x(),n=e.concat(t);return n}function P(){var e=[],t='undefined'==typeof window.frames?'':window.location.protocol+'//'+window.location.host+(''===window.location.port?'':':'+window.location.port);for(var n in C)if(n in L)continue;else e.push({publicProcedureName:C[n].publicProcedureName,acl:C[n].acl,origin:t});return e}if('undefined'==typeof JSON||'undefined'==typeof JSON.stringify||'undefined'==typeof JSON.parse)throw'pmrpc requires the JSON library';var v=[];if('undefined'==typeof window.postMessage&&'undefined'==typeof window.onconnect)throw'pmrpc requires the HTML5 cross-document messaging and worker APIs';var N='pmrpc.',O=function(e){if(window.sessionStorage){var t=e.publicProcedureName+'.'+N,n={procedure:e.publicProcedureName,status:e.status,description:e.message,namespace:e.namespace?e.namespace:N};sessionStorage.setItem(t,JSON.stringify(n))}else;},S=e(),C={},R={},L={};if('window'in window){var D=k(g,null,'window');I(window,'message',D,!1)}else throw'Pmrpc must be loaded within a browser window';return p({publicProcedureName:'receivePingRequest',procedure:function(e){return'undefined'!=typeof m(e)}}),p({publicProcedureName:'getRegisteredProcedures',procedure:P}),L={getRegisteredProcedures:null,receivePingRequest:null},{register:p,unregister:f,call:function(e){e.namespace&&n(e.namespace),y(e)},discover:function(e){function t(e,t){for(var n=0;n<e.length;n++)e[n].origin.match(new RegExp(a))&&e[n].publicProcedureName.match(new RegExp(r))&&s.push({publicProcedureName:e[n].publicProcedureName,destination:t,procedureACL:e[n].acl,destinationOrigin:e[n].origin})}var n=null;if('undefined'==typeof e.destination){n=T();for(var o=0;o<n.length;o++)n[o]=n[o].context}else n=e.destination;var a='undefined'==typeof e.originRegex?'(.*)':e.originRegex,r='undefined'==typeof e.nameRegex?'(.*)':e.nameRegex,i=n.length,s=[];this.call({destination:n,destinationDomain:'*',publicProcedureName:'getRegisteredProcedures',onSuccess:function(n){i--,t(n.returnValue,n.destination),0===i&&e.callback(s)},onError:function(){i--,0===i&&e.callback(s)}})},setNamespace:n,sessionLog:O,getMessageLog:function(){return v},getMessageStringLog:function(){var e={receivePingRequest:'rPR',getRegisteredProcedures:'gRP',ready:'r',config:'i',getConfig:'gC'},t=[],n=[];return v.forEach(function(i){n=[],Object.keys(i).forEach(function(t){var o=i[t];if('a'===t){var a=i[t]+'';o=a.substring(5)}else'b'===t?o=i[t].substring(0,8):'h'===t&&(o=e[o]?e[o]:o);n.push(t+':'+o)}),t.push(n.join(' '))}),t.join('|')}}},d=s,c=n(11),u=n(12),l={},p={},f={},m=function(e){return p[e]||(p[e]=[]),p[e]},g=function(e){p[e]&&(p[e]=[])},h=function(e,t){m(e).forEach(function(e){return e(t)})},b=function(e,t){l[e]&&(l[e]=null);var n=t?t:'closed';h(e,n),g(e),f[e]&&(clearInterval(f[e]),f[e]=null)},y=function(e,t){l[e]&&('function'==typeof l[e].close&&l[e].close(),b(e,t))},A=function(e,t,n){var i=window.open(e,t,n);return i&&(l[t]=i,f[t]=setInterval(function(){i.closed&&b(t,'closed_by_user')},300)),i},w=function(e,t){m(e).push(t)},I=function(e){return!!l[e]},k=function(e,t){var n=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,i=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return{left:n/2-e/2+window.screenLeft,top:i/2-t/2+window.screenTop}},_=700,x=700,T=k(_,x).left,P=k(_,x).top,v={strWindowFeatures:'width='.concat(_,',height=').concat(x,',left=').concat(T,',top=').concat(P,',resizable=no,location=no,menubar=no'),windowName:'AppleAuthentication'},N=function(e){y(v.windowName,e)},O=function(e){return N('closed_trigger_new_signing_flow'),A(e,v.windowName,v.strWindowFeatures)},S=function(){return I(v.windowName)},C=function(e){return w(v.windowName,e)};'format es6','use strict';n.d(t,'auth',function(){return z});var R,L={state:'authorize',authorizePath:'/auth/authorize/signin',codePath:'/auth/authorize/validate',enableFirstPartyOAuth:!1,code:void 0,oauthState:void 0,appleOAuth:{requestor:{}}},D=function(){L.enableFirstPartyOAuth=!1,L.code=void 0,L.oauthState=void 0,L.appleOAuth={requestor:{}}},E=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1]]);return t},F={name:'aid-auth-widget',nameSpace:'pmrpc',path:'/auth/signin',initiatePath:'/signin/initiate',isFailedToLoadFirstPartyOAuth:!1,getUrlPath:function(e){return e.features&&e.features.useSignInInitiate?F.initiatePath:L.enableFirstPartyOAuth?'authorize'===L.state?L.authorizePath:'code'===L.state?L.codePath:F.path:F.path},urlParamTransform:function(e,t){var n=[],o={widgetDomain:!0,widgetKey:!0};if(L.enableFirstPartyOAuth&&'fail'!==L.state){n.push(['frame_id',t.iframeId]);for(var a=0;a<e.length;a++)o[e[a][0]]||n.push([e[a][0],e[a][1]]),'iframeId'===e[a][0]&&'undefined'==typeof L.oauthState&&(t.appleOAuth.requestor.state=e[a][1],L.oauthState=e[a][1]);if(t.appleOAuth.requestor.id)n.push(['client_id',t.appleOAuth.requestor.id]);else throw new TypeError('requestor.id is either not provided or is not defined.');t.appleOAuth.requestor.scope&&n.push(['scope',t.appleOAuth.requestor.scope]),t.appleOAuth.requestor.teamId&&n.push(['team_id',t.appleOAuth.requestor.teamId]),t.appleOAuth.requestor.redirectURI&&n.push(['redirect_uri',t.appleOAuth.requestor.redirectURI]),t.appleOAuth.requestor.responseType&&n.push(['response_type',t.appleOAuth.requestor.responseType]),t.appleOAuth.requestor.responseMode&&n.push(['response_mode',t.appleOAuth.requestor.responseMode]),L.oauthState&&n.push(['state',L.oauthState]),'code'===L.state&&(n.push(['code',L.code]),'undefined'!=typeof t.alternateTokenCookie&&''!==t.alternateTokenCookie&&n.push(['altToken',t.alternateTokenCookie.toString()]),'string'==typeof t.OAuthClientId&&''!==t.OAuthClientId&&n.push(['rc_oauthid',t.OAuthClientId]),'string'==typeof t.OAuthToken&&''!==t.OAuthToken&&n.push(['rc_oauthtoken',t.OAuthToken]),'boolean'==typeof t.enableOIDCGrantCode&&n.push(['oauthRequireGrantCode',t.enableOIDCGrantCode?'true':'false']))}else n=E(e),'undefined'!=typeof t.requestorAppId&&''!==t.requestorAppId&&n.push(['appId',t.requestorAppId]);return'undefined'!=typeof t.resetCRToken&&''!==t.resetCRToken&&n.push(['key',t.resetCRToken]),'undefined'!=typeof t.resetCRLang&&''!==t.resetCRLang&&n.push(['language',t.resetCRLang]),'undefined'!=typeof t.domainId&&''!==t.domainId&&n.push(['rv',t.domainId]),n.push(['authVersion','latest']),n}},q=new function(e){e.name=e.name||'widget-loader',e.nameSpace=e.nameSpace||'widgetLoader',e.frameLoadTimeout=e.frameLoadTimeout||60000,e.configTimeout=e.configTimeout||30000,e.path=e.path||'',e.urlTransform=e.urlTransform||function(e){return e},e.widgetWindowReference=void 0;var t,n,i,a,s=new d,l={},p=!1,f=!1,m=!1,g=!1,h=!1,b=[],y=['ready','config'],A=[],w={},I={lines:12,length:12,width:5,radius:14,scale:.4,corners:1,color:'#000',opacity:.25,rotate:0,direction:1,speed:1.7,trail:60,fps:20,zIndex:2e9,className:'spinner',top:'50%',left:'50%',shadow:!1,hwaccel:!1,position:'absolute'},k=new c(I);s.context=self.name||'Parent',s||(s=new d),s.setNamespace(e.nameSpace);var _=function(e,t,n){if(e&&''!==e.trim()?e=e.trim().toUpperCase():void 0,'START_WITH'===e){if('string'==typeof t)'LITE'===t.toString().toUpperCase().trim()&&(I.color='#fff');else if('object'===o(t))if(t.autoThemeAdjust&&'function'==typeof window.matchMedia){var i=window.matchMedia('(prefers-color-scheme: dark)');i.matches&&(I.color='#fff'),i.addListener(function(t){var e=t.matches;I.color=e?'#fff':'#000'})}else('dark-standard'===t.defaultTheme||'lite'===t.defaultTheme)&&(I.color='#fff');k.spin(document.getElementById(n))}else'STOP'===e&&k.stop()},x=function(t){p=!1,f=!1,m=!1,g=!1,h=!1,a=void 0,A=[],e.widgetWindowReference=void 0,'undefined'==typeof t.returnUrl&&'undefined'!=typeof t.returnURL&&(t.returnUrl=t.returnURL);var n=D(t);if(n.result){l.config=t,E(l.config),('undefined'==typeof l.config.usePopup||!l.config.usePopup)&&('undefined'==typeof l.config.waitAnimation||''===l.config.waitAnimation.trim()||l.config.waitAnimation&&'FALSE'!==l.config.waitAnimation.toUpperCase().trim())&&_('START_WITH',l.config.theme,l.config.containerId),S()&&N(),'undefined'!=typeof l.config.usePopup&&l.config.usePopup?(U(l.config,e.name),q(l.config,e.name)):F(l.config,e.name),V(),G();var i=+t.frameLoadTimeout;e.frameLoadTimeout=!isNaN(i)&&e.frameLoadTimeout<i?i:e.frameLoadTimeout,h||T(),a=l.config.serviceURL}else if(t.callbacks&&t.callbacks.onAuthFailure){var o='';n.missingPaths.map(function(e){o+='\t '+e+'\t '}),t.callbacks.onAuthFailure({result:{code:'MISSING_MANDATORY_INIT_OPTIONS',message:'Missing mandatory initOptions: ['+o+'] \n Refer the documentation for more information. \n',data:{}}})}},T=function(){h=!1,t=setTimeout(function(){f||(f=!0,z(e.name),'function'==typeof l.config.loadFailed&&l.config.loadFailed({error:'timeout'}))},e.frameLoadTimeout)},P=function(e,t){if('undefined'!=typeof l.config&&l.config.serviceURL){i=r.getOriginFromUrl(l.config.serviceURL);var n,o=!!w[e];n=o?r.setupACL([window.location.origin,i]):r.setupACL(i),s||(s=new d),s.register({publicProcedureName:e,procedure:t,acl:n})}else b.push({__key__:e,__callback__:t})},v=function(t){return JSON.parse(t.replace(e.nameSpace+'.','')).method},R=function(){for(var e='auth-'+Math.random().toString(36).substr(2,8),t=1;3>=t;t++)e+='-'+Math.random().toString(36).substr(2,4);return e+='-'+Math.random().toString(36).substr(2,8),e},L=function(t){var n,o=t.serviceURL,a=e.path,r=[],s=[],d='';if(e.getUrlPath&&(a=e.getUrlPath(t)),o+=a,d=o,o=o+'?widgetKey='+t.serviceKey,r.push(['widgetKey',t.serviceKey]),t.locale&&(o+='&language='+t.locale,r.push(['language',t.locale])),t.features&&t.features.useEyebrowTextbox&&(o+='&useEyebrowTextbox='+t.features.useEyebrowTextbox,r.push(['useEyebrowTextbox',t.features.useEyebrowTextbox])),t.skVersion&&!isNaN(t.skVersion)&&(o+='&skVersion='+t.skVersion,r.push(['skVersion',t.skVersion])),'undefined'!=typeof t.devAppDomain&&''!==t.devAppDomain&&(o+='&widgetDomain='+t.devAppDomain,r.push(['widgetDomain',t.devAppDomain])),n='undefined'==typeof t.iframeId?R():t.iframeId,l.iframeId=n,t.iframeId=n,o+='&iframeId='+n,r.push(['iframeId',n]),e.urlParamTransform){r=e.urlParamTransform(r,t);for(var c=0;c<r.length;c++)s.push(r[c].join('='));l.srcUrl=d+'?'+s.join('&')}else l.srcUrl=e.urlTransform(o,t);return l.srcUrl},D=function(e){var t={result:!1},n=[],i=function(e,t){var i=!0;return t.map(function(t){u(e,t)||(i=!1,n.push(t))}),i};return t.result=i(e,['serviceKey','serviceURL','callbacks.onAuthSuccess']),t.result&&(!e.usePopup&&(t.result=i(e,['containerId'])),e.context&&'TEST_IDP'===e.context.trim().toUpperCase()&&(t.result=i(e,['context','domainName','gsWebToken','alternateDSID','orgId','entityId'])),e.context&&'MICROSOFT_OBO'===e.context.trim().toUpperCase()&&(t.result=i(e,['context','gsWebToken','orgId','alternateDSID','entityId']))),t.result||(t.missingPaths=n),t},E=function(e){if(''!==e.locale&&e.locale||void 0,('undefined'==typeof l.config.waitAnimation||''===l.config.waitAnimation.trim()||l.config.waitAnimation&&'FALSE'!==l.config.waitAnimation.toUpperCase().trim())&&void 0,e.features||void 0,''===e.serviceKey||!e.serviceKey)throw new TypeError('serviceKey is either not provided or is not defined.');else if(''===e.serviceURL||!e.serviceURL)throw new TypeError('serviceURL is either not provided or is not defined.');else if(!e.usePopup&&(''===e.containerId||!e.containerId))throw new TypeError('containerId is either not provided or is not defined.');else if(!e.callbacks||!e.callbacks.completed||'function'!=typeof e.callbacks.completed);else if(!e.callbacks||!e.callbacks.failed||'function'!=typeof e.callbacks.failed);},F=function(t,n){var i=document.createElement('iframe');i.src=L(t),i.width=t.width||'100%',i.height=t.height||'100%',i.id=n+'-iFrame',i.name=n,i.scrolling='no',i.frameBorder='0',i.setAttribute('role','none'),window.document.getElementById(t.containerId).appendChild(i),e.widgetWindowReference=window.frames[n]},q=function(e){C(function(t){if(('closed_by_user'===t||'closed_trigger_new_signing_flow'==t)&&e.callbacks&&e.callbacks.onAuthCancel){var n='closed'===t?'USER_CLOSE_POPUP':'USER_TRIGGER_NEW_SIGNIN_FLOW';e.callbacks.onAuthCancel({result:n})}})},U=function(t){var n=L(t),i=O(n);i?e.widgetWindowReference=i:!f&&(f=!0,'function'==typeof l.config.loadFailed&&l.config.loadFailed({error:'popup_blocked_by_browser'}))},M=function(e){var t=document.getElementById(e+'-iFrame');null!==t&&'IFRAME'===t.nodeName&&t.parentNode&&t.parentNode.removeChild(t)},z=function(e){S()?N():M(e)},j=function(){s.call({destination:e.widgetWindowReference,publicProcedureName:'teardownWidget',onSuccess:function(){z(e.name),clearTimeout(t),clearTimeout(n),l.config.callbacks.onAuthTeardown()},onError:function(){z(e.name),clearTimeout(t),clearTimeout(n),l.config.callbacks.onAuthTeardown()},destinationDomain:a,retries:3})},W=function(){s.call({destination:e.widgetWindowReference,publicProcedureName:'resume2FA',onSuccess:function(){l.config.callbacks.onAuthResume2FA&&l.config.callbacks.onAuthResume2FA(!0)},onError:function(){l.config.callbacks.onAuthResume2FA&&l.config.callbacks.onAuthResume2FA(!1)},destinationDomain:a,retries:3})},V=function(){P('getConfig',function(i){return A.push('getConfig'),p=!0,clearTimeout(t),'function'==typeof l.config.callbacks.getConfig&&l.config.callbacks.getConfig(i),_('STOP'),A.indexOf(y[0])>A.indexOf(y[1])?n=setTimeout(function(){m||g||(g=!0,z(e.name),'function'==typeof l.config.callbacks.failed&&l.config.callbacks.failed(i))},l.config.configTimeout):void 0,l.config}),P('widgetFailedToLoad',function(n){A.push('widgetFailedToLoad'),f||(f=!0,clearTimeout(t),z(e.name),'function'==typeof l.config.callbacks.loadFailed&&l.config.callbacks.loadFailed(n))}),P('ready',function(e){A.push('ready'),m=!0,clearTimeout(n),'function'==typeof l.config.callbacks.ready&&l.config.callbacks.ready(e)}),P('configFailed',function(t){A.push('configFailed'),g||(g=!0,clearTimeout(n),z(e.name),'function'==typeof l.config.callbacks.failed&&l.config.callbacks.failed(t))}),P('failed',function(e){A.push('failed'),'function'==typeof l.config.callbacks.failed&&l.config.callbacks.failed(e)}),P('completed',function(e){A.push('completed'),'function'==typeof l.config.callbacks.completed&&l.config.callbacks.completed(e)}),P('exit',function(e){A.push('exit'),'function'==typeof l.config.callbacks.exit&&l.config.callbacks.exit(e)}),P('error',function(e){A.push('error'),'function'==typeof l.config.callbacks.error&&l.config.callbacks.error(e)}),P('log',function(e){A.push('log'),'function'==typeof l.config.callbacks.log&&l.config.callbacks.log(e)})},G=function(){for(var e in b)b.hasOwnProperty(e)&&P(b[e].__key__,b[e].__callback__);B()},B=function(){window.addEventListener('message',function(t){if('undefined'!=typeof t&&'undefined'!=typeof t.data&&'string'==typeof t.data&&-1!==t.data.indexOf(e.nameSpace)){var n=v(t.data),o=t.origin||t.originalEvent.origin;for(var a in b)b.hasOwnProperty(a)&&n&&n.toLowerCase().trim()===b[a].__key__.toLowerCase().trim()&&o===i&&A.push(b[a].__key__)}},!1)};return l.load=x,l.teardown=j,l.resume2FA=W,l.addListener=P,l.getMessageStringLog=s.getMessageStringLog,l.buildIFrame=F,l.clearTimeout=function(){clearTimeout(t),h=!0},l.setLoadTimeout=T,l.reLoadIFrame=function(){z(e.name),F(l.config,e.name),T()},l.addAliasToListener=function(t,n,o){if('undefined'==typeof n||''===n.trim())throw new Error('[listener] is required.');if('undefined'==typeof t||''===t.trim())throw new Error('[alias] is required.');if(n.toLowerCase().trim()===t.toLowerCase().trim())throw new Error('[alias] [listener] names cannot be same.');if('function'!=typeof o)throw new Error('[callback] is required and should be a function.');if(!w[n])w[n]=t;else throw new Error('');window.addEventListener('message',function(o){if('undefined'!=typeof o&&'undefined'!=typeof o.data&&'string'==typeof o.data&&-1!==o.data.indexOf(e.nameSpace)){var a=v(o.data),r=o.origin||o.originalEvent.origin;a&&a.toLowerCase().trim()===t.toLowerCase().trim()&&r===i&&s.call({destination:window,destinationDomain:window.location.origin,publicProcedureName:n,namespace:e.nameSpace,onSuccess:function(){},onError:function(){}})}},!1),P(t,o)},l.destroyIFrame=z,l.closePopup=N,l}(F);q.addListener('complete',function(e){q.config.usePopup&&q.closePopup(),'function'==typeof q.config.callbacks.onAuthSuccess&&q.config.callbacks.onAuthSuccess(e,{iframeId:q.iframeId})});var U=function(e){if(!e)throw new TypeError('Invalid url',e);var t=document.implementation.createHTMLDocument(''),n=t.createElement('a');if(n.href=e,t.body.appendChild(n),':'===n.protocol||!/:/.test(n.href))throw new TypeError('Invalid URL');return n.protocol+'//'+n.host};q.addListener('ready',function(e){'function'==typeof q.config.callbacks.onAuthReady&&q.config.callbacks.onAuthReady(e,{iframeId:q.iframeId});var t=document.getElementById(F.name+'-iFrame');null!==t&&'undefined'!=typeof e.iframeTitle&&''!==e.iframeTitle&&(t.title=e.iframeTitle)}),q.addListener('authFailedToLoad',function(e){var t=q.getMessageStringLog(),n=q.iframeId;q.config.usePopup&&q.closePopup(),'function'==typeof q.config.callbacks.onAuthFailure&&q.config.callbacks.onAuthFailure(e,{logMessage:t,iframeId:n})}),q.addListener('passwordAuthDone',function(e,t){'function'==typeof q.config.callbacks.onPasswordAuthDone&&q.config.callbacks.onPasswordAuthDone(e,t,{iframeId:q.iframeId})}),q.addListener('authError',function(e,t){'function'==typeof q.config.callbacks.onAuthError&&q.config.callbacks.onAuthError(e,t)}),q.addListener('repairDidStart',function(e){'function'==typeof q.config.callbacks.onRepairStart&&q.config.callbacks.onRepairStart(e,{iframeId:q.iframeId})}),q.addListener('authDidCancel',function(e){q.config.usePopup&&q.closePopup(),'function'==typeof q.config.callbacks.onAuthCancel&&q.config.callbacks.onAuthCancel(e,{iframeId:q.iframeId})}),q.addListener('authTeardown',function(e){q.config.usePopup&&q.closePopup(),'function'==typeof q.config.callbacks.onAuthTeardown&&q.config.callbacks.onAuthTeardown(e,{iframeId:q.iframeId})}),q.addListener('authWidgetDidChangeFlow',function(e){'function'==typeof q.config.callbacks.onAuthWidgetDidChangeFlow&&q.config.callbacks.onAuthWidgetDidChangeFlow(e,{iframeId:q.iframeId})}),q.addListener('authWidgetWillChangeFlow',function(e){'function'==typeof q.config.callbacks.onAuthWidgetWillChangeFlow&&q.config.callbacks.onAuthWidgetWillChangeFlow(e,{iframeId:q.iframeId})}),q.addAliasToListener('config','getConfig',function(){return{data:q.config}}),window.addEventListener('message',function(e){var t,n,i,o=e.origin||e.originalEvent.origin,a={MISSING_DATA:'MISSING_DATA',LOAD_TIMEOUT:'LOAD_TIMEOUT',FAIL_TO_VERIFY_CREDENTIALS:'FAIL_TO_VERIFY_CREDENTIALS'};if(q.config&&q.config.features&&q.config.serviceURL&&!q.config.onDemand2FAToken&&q.config.features.enableFirstPartyOAuth&&(i=U(q.config.serviceURL),o===i))if('SOAuthorizationDidStart'===e.data)q.clearTimeout(),'function'==typeof q.config.callbacks.onNativeTakeOverDidStart&&q.config.callbacks.onNativeTakeOverDidStart({iframeId:q.iframeId});else if('SOAuthorizationDidCancel'===e.data)'function'==typeof q.config.callbacks.onNativeTakeOverDidCancel&&q.config.callbacks.onNativeTakeOverDidCancel({iframeId:q.iframeId}),q.setLoadTimeout();else if(e.data&&'AppSSOTakeoverDidComplete'===e.data.event){if(q.clearTimeout(),'function'==typeof q.config.callbacks.onNativeTakeOverDidComplete&&q.config.callbacks.onNativeTakeOverDidComplete({iframeId:q.iframeId}),'undefined'==typeof e.data.authorization||'undefined'==typeof e.data.authorization.grant_code)return L.state='fail','function'==typeof q.config.callbacks.onNativeTakeOverError&&q.config.callbacks.onNativeTakeOverError({code:a.MISSING_DATA},{iframeId:q.iframeId}),q.config.authServiceErrorCode=a.MISSING_DATA,void q.reLoadIFrame();try{t=atob(e.data.authorization.grant_code)}catch(n){t=e.data.authorization.grant_code}L.code=t,e.data.authorization&&(n=e.data.authorization.state);var r={serviceURL:q.config.serviceURL,serviceKey:q.config.serviceKey,code:t,appleOAuth:{requestor:L.appleOAuth.requestor},width:'0',height:'0',iframeId:q.iframeId,containerId:q.config.containerId,state:q.config.state};'undefined'!=typeof q.config.alternateTokenCookie&&''!==q.config.alternateTokenCookie&&(r.alternateTokenCookie=q.config.alternateTokenCookie),'undefined'!=typeof q.config.requestorContext&&'string'==typeof q.config.requestorContext.OAuthClientId&&(r.OAuthClientId=q.config.requestorContext.OAuthClientId),'undefined'!=typeof q.config.requestorContext&&'string'==typeof q.config.requestorContext.OAuthToken&&(r.OAuthToken=q.config.requestorContext.OAuthToken),q.config.features&&(r.enableOIDCGrantCode=!!q.config.features.enableOIDCGrantCode),L.state='code',q.buildIFrame(r,'widget-bridge'),R=setTimeout(function(){L.state='fail',clearTimeout(R),'function'==typeof q.config.callbacks.onNativeTakeOverError&&q.config.callbacks.onNativeTakeOverError({code:a.LOAD_TIMEOUT},{iframeId:q.iframeId}),q.config.authServiceErrorCode=a.LOAD_TIMEOUT,q.destroyIFrame('widget-bridge'),q.reLoadIFrame()},60000)}else if(e.data&&e.data.event&&'WidgetBridgeComplete'===e.data.event){var s={};n=e.data.state,clearTimeout(R),n&&(s.state=n),q.config.features&&q.config.features.enableOIDCGrantCode?q.config.callbacks.onAuthSuccess({grantCode:e.data.token,state:n},{iframeId:q.iframeId}):q.config.callbacks.onAuthSuccess(s,{iframeId:q.iframeId})}else e.data&&e.data.event&&'WidgetBridgeFailed'===e.data.event&&(L.state='fail',clearTimeout(R),'function'==typeof q.config.callbacks.onNativeTakeOverError&&q.config.callbacks.onNativeTakeOverError({code:e.data.code?e.data.code:a.FAIL_TO_VERIFY_CREDENTIALS},{iframeId:q.iframeId}),q.config.authServiceErrorCode=e.data.code?e.data.code:a.FAIL_TO_VERIFY_CREDENTIALS,q.destroyIFrame('widget-bridge'),q.reLoadIFrame())});var M=function(e){e.appleOAuth={requestor:{id:e.serviceKey,redirectURI:window.location.origin,responseMode:'web_message',responseType:'code'}},'undefined'!=typeof e.state&&(e.appleOAuth.requestor.state=e.state,L.oauthState=e.appleOAuth.requestor.state),'undefined'!=typeof e.devAppDomain&&''!==e.devAppDomain&&(e.appleOAuth.requestor.redirectURI=e.devAppDomain),L.appleOAuth.requestor=e.appleOAuth.requestor};window.AppleID=window.AppleID||{},window.AppleID.service=window.AppleID.service||{},window.AppleID.service.auth=window.AppleID.service.auth||{},window.AppleID.service.auth.init||(window.AppleID.service.auth.init=function(e){D(),!e.onDemand2FAToken&&e.features&&e.features.enableFirstPartyOAuth&&(L.enableFirstPartyOAuth=!0,M(e)),q.load(e)}),window.AppleID.service.auth.teardown=window.AppleID.service.auth.teardown||q.teardown,window.AppleID.service.auth.resume2FA=window.AppleID.service.auth.resume2FA||q.resume2FA,window.AppleID.service.auth.closePopup=window.AppleID.service.auth.closePopup||q.closePopup;var z={init:q.load,teardown:q.teardown,closePopup:q.closePopup,resume2FA:q.resume2FA},j=t['default']=q.load}]);